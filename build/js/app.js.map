{"version":3,"sources":["attributelist.js","app.js","toggler.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["'use strict';\r\n    \r\n let wrapper = (fn) => {\r\n    return function() {\r\n        if (arguments[1] === Object(arguments[1]) && !Array.isArray(arguments[1])) {\r\n            for(var attr in arguments[1]){\r\n                fn.call(null, arguments[0], attr, arguments[1][attr]);\r\n            }\r\n        } else if(Array.isArray(arguments[1])){\r\n            var el = arguments[0];\r\n            arguments[1].forEach(function(a){\r\n                fn.call(null, el, a);\r\n            });\r\n        } else {\r\n            fn.apply(null, arguments);\r\n        }\r\n    };\r\n};\r\n\r\nlet attributelist = {\r\n    set: function(el, attr) {\r\n        wrapper(function(e, a, v){\r\n            e.setAttribute(a, v);\r\n        })(el, attr);\r\n    },\r\n    toggle: function(el, attr) {\r\n        wrapper(function(e, a){\r\n            e.setAttribute(a, (e.getAttribute(a) === 'false' ? true : false));\r\n        })(el, attr);\r\n    }\r\n};\r\n\r\nexport default attributelist;","'use strict';\n\nimport { Toggler } from './toggler';\n\nToggler.init('.js-toggle');\nToggler.init('.js-toggle-local', { targetLocal: true });","'use strict';\n\nimport attributelist from './attributelist'\n\nlet instances = [],\n    defaults = {\n        delay: 200,\n        targetLocal: false,\n        callback: null\n    },\n    StormToggler = {\n        init: function() {\n            this.open = false;\n            this.targetElement = document.getElementById(this.targetId);\n            this.classTarget = (!this.settings.targetLocal) ? document.documentElement : this.targetElement.parentNode;\n            if((!this.settings.targetLocal)) {\n                this.statusClass = ['on--', this.targetId].join('');\n                this.animatingClass = ['animating--', this.targetId].join('');\n            } else {\n                this.statusClass = 'active';\n                this.animatingClass = 'animating';\n            }\n    \n            attributelist.set(this.btn, {\n                'role' : 'button',\n                'aria-controls' : this.targetId,\n                'aria-expanded' : 'false'\n            });\n\n            attributelist.set(this.targetElement, {\n                'aria-hidden': true\n            });\n\n            this.btn.addEventListener('click', (e) => { \n                this.toggle.call(this, e); \n            }, false);\n        },\n        toggle: function(e) {\n            var delay = this.classTarget.classList.contains(this.statusClass) ?  this.settings.delay : 0;\n            \n            if(!!e){\n                e.preventDefault();\n                e.stopPropagation();\n            }\n            \n            this.classTarget.classList.add(this.animatingClass);\n            \n            window.setTimeout(() => {\n                this.open = !this.open;\n                this.classTarget.classList.remove(this.animatingClass);\n                this.classTarget.classList.toggle(this.statusClass);\n                attributelist.toggle(this.btn, 'aria-expanded');\n                attributelist.toggle(this.targetElement, 'aria-hidden');\n                (!!this.settings.callback && typeof this.settings.callback === 'function') && this.settings.callback.call(this);\n            }, delay);\n        }\n    };\n\n\t\nlet create = (el, i, opts) => {\n    instances[i] = Object.assign(Object.create(StormToggler), {\n        btn: el,\n        targetId: (el.getAttribute('href')|| el.getAttribute('data-target')).substr(1),\n        settings: Object.assign({}, defaults, opts)\n    });\n    instances[i].init();\n}\n\nlet init = (sel, opts) => {\n    var els = [].slice.call(document.querySelectorAll(sel));\n    \n    if(els.length === 0) {\n        throw new Error('Toggler cannot be initialised, no augmentable elements found');\n    }\n    \n    els.forEach((el, i) => {\n        create(el, i, opts);\n    });\n    return instances;\n    \n}\n\nlet reload = (sel, opts) => {\n    [].slice.call(document.querySelectorAll(sel)).forEach((el, i) => {\n        if(!instances.filter(instance => { return (instance.btn === el); }).length) {\n            create(el, instances.length, opts);\n        }\n    });\n}\n\nlet destroy = () => {\n    instances = [];  \n}\n\nlet Toggler = { init, reload, destroy }\n\nexport { Toggler };"],"sourceRoot":"/source/"}